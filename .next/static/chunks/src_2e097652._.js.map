{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/store/document-store.ts"],"sourcesContent":["\"use client\";\n\nimport { create } from 'zustand';\n\ntype DocumentState = {\n  file: File | null;\n  setFile: (file: File | null) => void;\n};\n\nexport const useDocumentStore = create<DocumentState>((set) => ({\n  file: null,\n  setFile: (file) => set({ file }),\n}));\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AASO,MAAM,mBAAmB,IAAA,qKAAM,EAAgB,CAAC,MAAQ,CAAC;QAC9D,MAAM;QACN,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;IAChC,CAAC","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,KAGqB;QAHrB,EAChB,SAAS,EACT,GAAG,OACkC,GAHrB;IAIhB,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf;KAVS","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/pdf-viewer.tsx"],"sourcesContent":["'use client';\n\nimport { FileCheck2 } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Skeleton } from \"./ui/skeleton\";\n\nexport function PdfViewer({ fileUrl }: { fileUrl: string | null }) {\n\n  if (!fileUrl) {\n    return <Skeleton className=\"w-full h-full\" />;\n  }\n  \n  return (\n    <Card className=\"flex-grow flex items-center justify-center bg-gray-50 dark:bg-gray-900/50 border-dashed\">\n        <CardContent className=\"p-0 flex flex-col items-center justify-center text-center\">\n            <FileCheck2 className=\"w-24 h-24 text-green-500\" />\n            <p className=\"mt-4 font-semibold text-lg\">Document Loaded</p>\n            <p className=\"text-muted-foreground\">Ready for simplification.</p>\n        </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,UAAU,KAAuC;QAAvC,EAAE,OAAO,EAA8B,GAAvC;IAExB,IAAI,CAAC,SAAS;QACZ,qBAAO,6LAAC,mJAAQ;YAAC,WAAU;;;;;;IAC7B;IAEA,qBACE,6LAAC,2IAAI;QAAC,WAAU;kBACZ,cAAA,6LAAC,kJAAW;YAAC,WAAU;;8BACnB,6LAAC,uOAAU;oBAAC,WAAU;;;;;;8BACtB,6LAAC;oBAAE,WAAU;8BAA6B;;;;;;8BAC1C,6LAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAIjD;KAfgB","debugId":null}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,YAAY,gLAAuB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,2KAAgB,OAGvC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC,kLAAyB;QAAC,WAAU;kBACnC,cAAA,6LAAC,mLAA0B;YACzB,KAAK;YACL,WAAW,IAAA,4HAAE,EACX,gIACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,mLAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,2KAAgB,OAGvC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC,mLAA0B;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAW,IAAA,4HAAE,EAAC,aAAa;sBAAa;;;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,mLAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/structured-summary.tsx"],"sourcesContent":["\"use client\";\n\nimport type { StructuredSummary } from \"@/lib/types\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"./ui/accordion\";\nimport { FileText, Target, ListChecks, AlertTriangle, Phone, CheckCircle } from \"lucide-react\";\n\ntype SummaryCardProps = {\n    icon: React.ReactNode;\n    title: string;\n    children: React.ReactNode;\n};\n\nfunction SummaryCard({ icon, title, children }: SummaryCardProps) {\n    return (\n        <Card>\n            <CardHeader className=\"flex flex-row items-center gap-3 space-y-0 pb-2\">\n                {icon}\n                <CardTitle className=\"font-headline text-lg\">{title}</CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-muted-foreground\">\n                {children}\n            </CardContent>\n        </Card>\n    );\n}\n\nexport function StructuredSummaryDisplay({ summary }: { summary: StructuredSummary }) {\n  return (\n    <div className=\"space-y-4 animate-in fade-in duration-500\">\n        <Accordion type=\"single\" collapsible defaultValue=\"item-1\" className=\"w-full\">\n            <AccordionItem value=\"item-1\">\n                 <AccordionTrigger className=\"text-lg font-headline\">üìú Summary</AccordionTrigger>\n                 <AccordionContent className=\"text-base text-muted-foreground pt-2\">\n                    {summary.summary}\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-2\">\n                 <AccordionTrigger className=\"text-lg font-headline\">üéØ What This Means For You</AccordionTrigger>\n                 <AccordionContent className=\"text-base text-muted-foreground pt-2\">\n                    {summary.whatItMeans}\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-3\">\n                 <AccordionTrigger className=\"text-lg font-headline\">‚úÖ Action Steps</AccordionTrigger>\n                 <AccordionContent className=\"pt-2\">\n                     <ul className=\"space-y-3\">\n                        {summary.actions.map((action, index) => (\n                            <li key={index} className=\"flex items-start gap-3\">\n                                <CheckCircle className=\"w-5 h-5 text-green-500 mt-1 flex-shrink-0\" />\n                                <div>\n                                    <span>{action.step}</span>\n                                    {action.deadline && (\n                                        <p className=\"text-sm text-amber-500 font-medium\">\n                                            Deadline: {action.deadline}\n                                        </p>\n                                    )}\n                                </div>\n                            </li>\n                        ))}\n                    </ul>\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-4\">\n                 <AccordionTrigger className=\"text-lg font-headline\">‚ö†Ô∏è Consequences of Ignoring</AccordionTrigger>\n                 <AccordionContent className=\"text-base text-muted-foreground pt-2\">\n                    {summary.consequences}\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-5\">\n                 <AccordionTrigger className=\"text-lg font-headline\">üìû Helplines & Next Steps</AccordionTrigger>\n                 <AccordionContent className=\"pt-2\">\n                     <ul className=\"space-y-2\">\n                        {summary.helplines.map((helpline, index) => (\n                             <li key={index} className=\"flex items-center gap-3 text-muted-foreground\">\n                                <Phone className=\"w-4 h-4 text-primary flex-shrink-0\"/>\n                                <span>{helpline}</span>\n                            </li>\n                        ))}\n                     </ul>\n                 </AccordionContent>\n            </AccordionItem>\n        </Accordion>\n\n        <div className=\"text-xs text-muted-foreground/80 italic text-center pt-4\">\n            {summary.disclaimer}\n        </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AALA;;;;;AAaA,SAAS,YAAY,KAA2C;QAA3C,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAoB,GAA3C;IACjB,qBACI,6LAAC,2IAAI;;0BACD,6LAAC,iJAAU;gBAAC,WAAU;;oBACjB;kCACD,6LAAC,gJAAS;wBAAC,WAAU;kCAAyB;;;;;;;;;;;;0BAElD,6LAAC,kJAAW;gBAAC,WAAU;0BAClB;;;;;;;;;;;;AAIjB;KAZS;AAcF,SAAS,yBAAyB,KAA2C;QAA3C,EAAE,OAAO,EAAkC,GAA3C;IACvC,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC,qJAAS;gBAAC,MAAK;gBAAS,WAAW;gBAAC,cAAa;gBAAS,WAAU;;kCACjE,6LAAC,yJAAa;wBAAC,OAAM;;0CAChB,6LAAC,4JAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,6LAAC,4JAAgB;gCAAC,WAAU;0CACxB,QAAQ,OAAO;;;;;;;;;;;;kCAGxB,6LAAC,yJAAa;wBAAC,OAAM;;0CAChB,6LAAC,4JAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,6LAAC,4JAAgB;gCAAC,WAAU;0CACxB,QAAQ,WAAW;;;;;;;;;;;;kCAG5B,6LAAC,yJAAa;wBAAC,OAAM;;0CAChB,6LAAC,4JAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,6LAAC,4JAAgB;gCAAC,WAAU;0CACxB,cAAA,6LAAC;oCAAG,WAAU;8CACV,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,sBAC1B,6LAAC;4CAAe,WAAU;;8DACtB,6LAAC,6OAAW;oDAAC,WAAU;;;;;;8DACvB,6LAAC;;sEACG,6LAAC;sEAAM,OAAO,IAAI;;;;;;wDACjB,OAAO,QAAQ,kBACZ,6LAAC;4DAAE,WAAU;;gEAAqC;gEACnC,OAAO,QAAQ;;;;;;;;;;;;;;2CANjC;;;;;;;;;;;;;;;;;;;;;kCAezB,6LAAC,yJAAa;wBAAC,OAAM;;0CAChB,6LAAC,4JAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,6LAAC,4JAAgB;gCAAC,WAAU;0CACxB,QAAQ,YAAY;;;;;;;;;;;;kCAG7B,6LAAC,yJAAa;wBAAC,OAAM;;0CAChB,6LAAC,4JAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,6LAAC,4JAAgB;gCAAC,WAAU;0CACxB,cAAA,6LAAC;oCAAG,WAAU;8CACV,QAAQ,SAAS,CAAC,GAAG,CAAC,CAAC,UAAU,sBAC7B,6LAAC;4CAAe,WAAU;;8DACvB,6LAAC,gNAAK;oDAAC,WAAU;;;;;;8DACjB,6LAAC;8DAAM;;;;;;;2CAFD;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAU9B,6LAAC;gBAAI,WAAU;0BACV,QAAQ,UAAU;;;;;;;;;;;;AAI/B;MA9DgB","debugId":null}},
    {"offset": {"line": 722, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/chat-messages.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\nimport type { ChatMessage } from \"@/lib/types\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\";\n\nexport function ChatMessages({ messages }: { messages: ChatMessage[] }) {\n    if (!messages.length) {\n        return null;\n    }\n\n    return (\n        <div className=\"space-y-4\">\n            {messages.filter(m => m.role !== 'system').map((message, index) => (\n                <div key={index} className={cn(\n                    \"flex items-start gap-3\",\n                    message.role === 'user' ? \"justify-end\" : \"justify-start\"\n                )}>\n                    {message.role === 'assistant' && (\n                        <Avatar className=\"h-8 w-8\">\n                            <AvatarFallback>AI</AvatarFallback>\n                        </Avatar>\n                    )}\n                    <div className={cn(\n                        \"rounded-lg px-4 py-2 max-w-[80%]\",\n                        message.role === 'user' \n                            ? \"bg-primary text-primary-foreground\" \n                            : \"bg-secondary text-secondary-foreground\"\n                    )}>\n                        <p className=\"text-sm\">{message.content}</p>\n                    </div>\n                    {message.role === 'user' && (\n                         <Avatar className=\"h-8 w-8\">\n                            <AvatarImage src=\"https://picsum.photos/seed/user-avatar/40/40\" />\n                            <AvatarFallback>U</AvatarFallback>\n                        </Avatar>\n                    )}\n                </div>\n            ))}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEO,SAAS,aAAa,KAAyC;QAAzC,EAAE,QAAQ,EAA+B,GAAzC;IACzB,IAAI,CAAC,SAAS,MAAM,EAAE;QAClB,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACV,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,UAAU,GAAG,CAAC,CAAC,SAAS,sBACrD,6LAAC;gBAAgB,WAAW,IAAA,4HAAE,EAC1B,0BACA,QAAQ,IAAI,KAAK,SAAS,gBAAgB;;oBAEzC,QAAQ,IAAI,KAAK,6BACd,6LAAC,+IAAM;wBAAC,WAAU;kCACd,cAAA,6LAAC,uJAAc;sCAAC;;;;;;;;;;;kCAGxB,6LAAC;wBAAI,WAAW,IAAA,4HAAE,EACd,oCACA,QAAQ,IAAI,KAAK,SACX,uCACA;kCAEN,cAAA,6LAAC;4BAAE,WAAU;sCAAW,QAAQ,OAAO;;;;;;;;;;;oBAE1C,QAAQ,IAAI,KAAK,wBACb,6LAAC,+IAAM;wBAAC,WAAU;;0CACf,6LAAC,oJAAW;gCAAC,KAAI;;;;;;0CACjB,6LAAC,uJAAc;0CAAC;;;;;;;;;;;;;eApBlB;;;;;;;;;;AA2B1B;KAnCgB","debugId":null}},
    {"offset": {"line": 816, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,QAAgC;QAA/B,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO;IAC5B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 852, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/conversational-chat.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Implements the conversational chat flow for the application.\n *\n * - chatWithDocument -  Handles the conversation with the AI, processing user messages and generating responses based on the document context.\n * - ChatInputType - The input type for the chatWithDocument function, including the message and document ID.\n * - ChatOutputType - The return type for the chatWithDocument function, providing the AI's response.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst ChatInputSchema = z.object({\n  fileDataUri: z\n    .string()\n    .describe(\n      \"The content of the PDF document, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'\"\n    ),\n  message: z.string().describe('The user message.'),\n  history: z.array(z.object({\n    role: z.enum(['user', 'assistant', 'system']),\n    content: z.string(),\n    data: z.any().optional(),\n  })).describe('The conversation history.'),\n});\n\nexport type ChatInputType = z.infer<typeof ChatInputSchema>;\n\nconst ChatOutputSchema = z.object({\n  response: z.string().describe('The AI response to the user message.'),\n});\n\nexport type ChatOutputType = z.infer<typeof ChatOutputSchema>;\n\nexport async function chatWithDocument(input: ChatInputType): Promise<ChatOutputType> {\n  return chatFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'chatPrompt',\n  input: {\n    schema: ChatInputSchema,\n  },\n  output: {schema: ChatOutputSchema},\n  prompt: `You are \"Bureaucracy Buster\" ‚Äì a friendly, empathetic and extremely advanced AI assistant for Indian citizens. Your role is to answer questions about the provided government document. Use the document as the primary source of truth.\n\n    Document:\n    {{media url=fileDataUri}}\n\n    Conversation History:\n    {{#each history}}\n    {{this.role}}: {{{this.content}}}\n    {{/each}}\n\n    User's current message: {{{message}}}\n\n    Based on the document and the conversation history, provide a clear and simple answer.\n    Respond in the same language as the user's previous messages. Always add disclaimer: \\\"This is not official legal advice.\\\"`,\n});\n\nconst chatFlow = ai.defineFlow(\n  {\n    name: 'chatFlow',\n    inputSchema: ChatInputSchema,\n    outputSchema: ChatOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;;IAmCsB,mBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 867, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/chat-input.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Input } from \"./ui/input\";\nimport { Button } from \"./ui/button\";\nimport { Send, CornerDownLeft } from \"lucide-react\";\nimport { chatWithDocument } from \"@/ai/flows/conversational-chat\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { ChatMessage } from \"@/lib/types\";\n\nexport function ChatInput({\n  chatHistory,\n  setChatHistory,\n  fileDataUri,\n}: {\n  chatHistory: ChatMessage[];\n  setChatHistory: React.Dispatch<React.SetStateAction<ChatMessage[]>>;\n  fileDataUri: string | null;\n}) {\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n\n    const newUserMessage: ChatMessage = { role: \"user\", content: input };\n    setChatHistory((prev) => [...prev, newUserMessage]);\n    setInput(\"\");\n    setIsLoading(true);\n\n    if (!fileDataUri) {\n      toast({\n        title: \"Error\",\n        description: \"Document context is missing. Please try reloading.\",\n        variant: \"destructive\",\n      });\n      setChatHistory((prev) => prev.slice(0, -1)); // Remove the user message on error\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const response = await chatWithDocument({\n        message: input,\n        history: chatHistory,\n        fileDataUri,\n      });\n      const aiResponse: ChatMessage = {\n        role: \"assistant\",\n        content: response.response,\n      };\n      setChatHistory((prev) => [...prev, aiResponse]);\n    } catch (error) {\n      console.error(\"Chat error:\", error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to get a response from the AI. Please try again.\",\n        variant: \"destructive\",\n      });\n      setChatHistory((prev) => prev.slice(0, -1)); // Remove the user message on error\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"relative\">\n      <Input\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        placeholder=\"Ask a follow-up question...\"\n        className=\"pr-12\"\n        disabled={isLoading}\n      />\n      <Button\n        type=\"submit\"\n        size=\"icon\"\n        className=\"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-10\"\n        disabled={isLoading || !input.trim()}\n      >\n        {isLoading ? (\n          <CornerDownLeft className=\"h-4 w-4 animate-pulse\" />\n        ) : (\n          <Send className=\"h-4 w-4\" />\n        )}\n        <span className=\"sr-only\">Send</span>\n      </Button>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;;;AAPA;;;;;;;AAUO,SAAS,UAAU,KAQzB;QARyB,EACxB,WAAW,EACX,cAAc,EACd,WAAW,EAKZ,GARyB;;IASxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAQ;IAE1B,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,MAAM,WAAW;QAEhC,MAAM,iBAA8B;YAAE,MAAM;YAAQ,SAAS;QAAM;QACnE,eAAe,CAAC,OAAS;mBAAI;gBAAM;aAAe;QAClD,SAAS;QACT,aAAa;QAEb,IAAI,CAAC,aAAa;YAChB,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;YACA,eAAe,CAAC,OAAS,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK,mCAAmC;YAChF,aAAa;YACb;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,iLAAgB,EAAC;gBACtC,SAAS;gBACT,SAAS;gBACT;YACF;YACA,MAAM,aAA0B;gBAC9B,MAAM;gBACN,SAAS,SAAS,QAAQ;YAC5B;YACA,eAAe,CAAC,OAAS;uBAAI;oBAAM;iBAAW;QAChD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;YAC7B,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;YACA,eAAe,CAAC,OAAS,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK,mCAAmC;QAClF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,6LAAC,6IAAK;gBACJ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAY;gBACZ,WAAU;gBACV,UAAU;;;;;;0BAEZ,6LAAC,+IAAM;gBACL,MAAK;gBACL,MAAK;gBACL,WAAU;gBACV,UAAU,aAAa,CAAC,MAAM,IAAI;;oBAEjC,0BACC,6LAAC,mPAAc;wBAAC,WAAU;;;;;6CAE1B,6LAAC,6MAAI;wBAAC,WAAU;;;;;;kCAElB,6LAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;;;;;;;AAIlC;GAjFgB;;QAWI,2IAAQ;;;KAXZ","debugId":null}},
    {"offset": {"line": 1013, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,2KAAgB,MAGjC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC,qLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2KAAgB,CAGhC,QAAoD;QAAnD,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO;yBAClD,6LAAC,oMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAAC,WAAU;;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,oMAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1096, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/chat-panel.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"./ui/button\";\nimport { Sparkles, Loader2, Send } from \"lucide-react\";\nimport { StructuredSummaryDisplay } from \"./structured-summary\";\nimport type { StructuredSummary, ChatMessage } from \"@/lib/types\";\nimport { ChatMessages } from \"./chat-messages\";\nimport { ChatInput } from \"./chat-input\";\nimport { Card } from \"./ui/card\";\nimport { ScrollArea } from \"./ui/scroll-area\";\nimport React from \"react\";\n\ninterface ChatPanelProps {\n  onSimplify: () => void;\n  isSimplifying: boolean;\n  summary: StructuredSummary | null;\n  chatHistory: ChatMessage[];\n  setChatHistory: React.Dispatch<React.SetStateAction<ChatMessage[]>>;\n  fileDataUri: string | null;\n}\n\nexport function ChatPanel({\n  onSimplify,\n  isSimplifying,\n  summary,\n  chatHistory,\n  setChatHistory,\n  fileDataUri,\n}: ChatPanelProps) {\n\n  const messagesEndRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [chatHistory]);\n\n  return (\n    <div className=\"flex flex-col h-full bg-card rounded-lg border\">\n      <div className=\"p-4 border-b\">\n        <h2 className=\"font-headline text-2xl font-semibold\">AI Assistant</h2>\n        <p className=\"text-sm text-muted-foreground\">Your guide to understanding this document.</p>\n      </div>\n      \n      <ScrollArea className=\"flex-grow h-0\">\n        <div className=\"p-4 space-y-4\">\n            {!summary && !isSimplifying && (\n                <div className=\"flex flex-col items-center justify-center text-center p-8 h-full\">\n                    <div className=\"p-4 bg-accent/10 rounded-full mb-4\">\n                        <Sparkles className=\"w-10 h-10 text-accent\" />\n                    </div>\n                    <h3 className=\"font-semibold text-lg\">Ready to simplify?</h3>\n                    <p className=\"text-muted-foreground mb-4\">Click the button to get a plain-language summary.</p>\n                    <Button onClick={onSimplify} disabled={isSimplifying} className=\"bg-accent hover:bg-accent/90 text-accent-foreground\">\n                        <Sparkles className=\"mr-2 h-4 w-4\" />\n                        Simplify for a Citizen\n                    </Button>\n                </div>\n            )}\n\n            {isSimplifying && (\n                 <div className=\"flex items-center justify-center p-8\">\n                    <Loader2 className=\"mr-2 h-8 w-8 animate-spin text-primary\" />\n                    <span className=\"text-lg\">Analyzing document...</span>\n                 </div>\n            )}\n\n            {summary && <StructuredSummaryDisplay summary={summary} />}\n            \n            <ChatMessages messages={chatHistory} />\n            <div ref={messagesEndRef} />\n        </div>\n      </ScrollArea>\n      \n      {summary && (\n        <div className=\"border-t p-4 bg-background/50 rounded-b-lg\">\n            <ChatInput chatHistory={chatHistory} setChatHistory={setChatHistory} fileDataUri={fileDataUri} />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;;;AAVA;;;;;;;;AAqBO,SAAS,UAAU,KAOT;QAPS,EACxB,UAAU,EACV,aAAa,EACb,OAAO,EACP,WAAW,EACX,cAAc,EACd,WAAW,EACI,GAPS;;IASxB,MAAM,iBAAiB,wKAAK,CAAC,MAAM,CAAiB;IAEpD,wKAAK,CAAC,SAAS;+BAAC;gBACd;aAAA,0BAAA,eAAe,OAAO,cAAtB,8CAAA,wBAAwB,cAAc,CAAC;gBAAE,UAAU;YAAS;QAC9D;8BAAG;QAAC;KAAY;IAEhB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAuC;;;;;;kCACrD,6LAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;0BAG/C,6LAAC,2JAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;wBACV,CAAC,WAAW,CAAC,+BACV,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,yNAAQ;wCAAC,WAAU;;;;;;;;;;;8CAExB,6LAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,6LAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,6LAAC,+IAAM;oCAAC,SAAS;oCAAY,UAAU;oCAAe,WAAU;;sDAC5D,6LAAC,yNAAQ;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;wBAMhD,+BACI,6LAAC;4BAAI,WAAU;;8CACZ,6LAAC,+NAAO;oCAAC,WAAU;;;;;;8CACnB,6LAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;wBAIjC,yBAAW,6LAAC,0KAAwB;4BAAC,SAAS;;;;;;sCAE/C,6LAAC,yJAAY;4BAAC,UAAU;;;;;;sCACxB,6LAAC;4BAAI,KAAK;;;;;;;;;;;;;;;;;YAIf,yBACC,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,mJAAS;oBAAC,aAAa;oBAAa,gBAAgB;oBAAgB,aAAa;;;;;;;;;;;;;;;;;AAK9F;GA3DgB;KAAA","debugId":null}},
    {"offset": {"line": 1314, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/simplify-document.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview An AI agent for simplifying complex government documents into plain language.\n *\n * - simplifyDocument - A function that handles the document simplification process.\n * - SimplifyDocumentInput - The input type for the simplifyDocument function.\n * - SimplifyDocumentOutput - The return type for the simplifyDocument function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst SimplifyDocumentInputSchema = z.object({\n  fileDataUri: z\n    .string()\n    .describe(\n      'The content of the PDF document, as a data URI that must include a MIME type and use Base64 encoding. Expected format: \\'data:<mimetype>;base64,<encoded_data>\\'.' // Corrected description\n    ),\n  language: z.enum(['en', 'hi']).default('en').describe('The language to use for the simplification.'),\n});\nexport type SimplifyDocumentInput = z.infer<typeof SimplifyDocumentInputSchema>;\n\nconst SimplifyDocumentOutputSchema = z.object({\n  summary: z.string().describe('A concise summary of the document.'),\n  whatItMeans: z.string().describe('An explanation of what the document means for the user.'),\n  actions: z\n    .array(\n      z.object({\n        step: z.string().describe('A specific action the user needs to take.'),\n        deadline: z.string().optional().describe('The deadline for the action, if applicable.'),\n      })\n    )\n    .describe('A list of actions the user needs to take.'),\n  consequences: z.string().describe('The consequences of not taking the required actions.'),\n  helplines: z.array(z.string()).describe('A list of relevant helpline numbers or contact information.'),\n  disclaimer: z.string().describe('A disclaimer that this is not official legal advice.'),\n});\nexport type SimplifyDocumentOutput = z.infer<typeof SimplifyDocumentOutputSchema>;\n\nexport async function simplifyDocument(input: SimplifyDocumentInput): Promise<SimplifyDocumentOutput> {\n  return simplifyDocumentFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'simplifyDocumentPrompt',\n  input: {schema: SimplifyDocumentInputSchema},\n  output: {schema: SimplifyDocumentOutputSchema},\n  prompt: `You are \\\"Bureaucracy Buster\\\" ‚Äì a friendly, empathetic AI assistant for Indian citizens. Convert complex government documents into simple Hindi/English guidance. Use plain language, short sentences, emojis, bullet points. Structure first response as:\n- Summary\n- What this means for you\n- Action steps (with deadlines)\n- Consequences if you ignore\n- Helplines / next steps\nAlways add disclaimer: \\\"This is not official legal advice.\\\"\nIf user asks for Hindi, respond entirely in natural Hindi.\n\nSimplify the following document:\n\n{{media url=fileDataUri}}`,\n});\n\nconst simplifyDocumentFlow = ai.defineFlow(\n  {\n    name: 'simplifyDocumentFlow',\n    inputSchema: SimplifyDocumentInputSchema,\n    outputSchema: SimplifyDocumentOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return {\n      ...output!,\n      disclaimer: 'This is not official legal advice.',\n    };\n  }\n);\n"],"names":[],"mappings":";;;;;;;IAuCsB,mBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,MAG5B,QAAmC;QAAlC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO;yBACjC,6LAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,2KAAgB,OAGvC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1416, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/dashboard/document/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\nimport { useDocumentStore } from '@/store/document-store';\nimport { PdfViewer } from '@/components/pdf-viewer';\nimport { ChatPanel } from '@/components/chat-panel';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { simplifyDocument } from '@/ai/flows/simplify-document';\nimport type { StructuredSummary, ChatMessage } from '@/lib/types';\nimport { AlertCircle } from 'lucide-react';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\n\nexport default function DocumentPage() {\n  const router = useRouter();\n  const params = useParams();\n  const id = params.id as string;\n  const file = useDocumentStore((state) => state.file);\n  const [isSimplifying, setIsSimplifying] = useState(false);\n  const [summary, setSummary] = useState<StructuredSummary | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [chatHistory, setChatHistory] = useState<ChatMessage[]>([]);\n  const [fileDataUri, setFileDataUri] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!file) {\n      // Redirect to upload page if no file is in the store.\n      // This can happen on page refresh.\n      router.push('/dashboard');\n      return;\n    }\n    \n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      setFileDataUri(reader.result as string);\n    };\n    reader.onerror = () => {\n        setError(\"Failed to read the document file.\");\n    }\n  }, [file, router]);\n  \n  const handleSimplify = async () => {\n    if (!fileDataUri) {\n      setError(\"Document is not ready for simplification.\");\n      return;\n    }\n\n    setIsSimplifying(true);\n    setError(null);\n    setSummary(null);\n    \n    try {\n      const result = await simplifyDocument({ fileDataUri, language: 'en' });\n      setSummary(result);\n      setChatHistory([{\n        role: 'system',\n        content: 'The initial document summary has been provided. The user can now ask follow-up questions.',\n        data: result,\n      }]);\n    } catch (e) {\n      console.error(e);\n      setError('An error occurred while simplifying the document. Please try again.');\n    } finally {\n      setIsSimplifying(false);\n    }\n  };\n\n  const documentName = useMemo(() => file ? file.name : decodeURIComponent(id), [file, id]);\n\n  if (!file) {\n    return (\n      <div className=\"flex flex-col md:flex-row gap-8 h-[calc(100vh-10rem)]\">\n        <div className=\"md:w-1/2 h-full flex flex-col gap-4\">\n            <Skeleton className=\"w-1/2 h-8\" />\n            <Skeleton className=\"flex-grow w-full\" />\n        </div>\n        <div className=\"md:w-1/2 h-full flex flex-col gap-4\">\n            <Skeleton className=\"w-1/3 h-8\" />\n            <Skeleton className=\"flex-grow w-full\" />\n        </div>\n      </div>\n    );\n  }\n  \n  if (error) {\n     return (\n        <Alert variant=\"destructive\" className=\"max-w-2xl mx-auto\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertTitle>Simplification Failed</AlertTitle>\n            <AlertDescription>{error}</AlertDescription>\n        </Alert>\n     )\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start h-[calc(100vh-10rem)]\">\n      <div className=\"h-full flex flex-col\">\n        <h1 className=\"font-headline text-2xl font-semibold mb-4 truncate\">{documentName}</h1>\n        <PdfViewer fileUrl={fileDataUri} />\n      </div>\n      <div className=\"h-full flex flex-col\">\n         <ChatPanel\n            onSimplify={handleSimplify}\n            isSimplifying={isSimplifying}\n            summary={summary}\n            chatHistory={chatHistory}\n            setChatHistory={setChatHistory}\n            fileDataUri={fileDataUri}\n          />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAXA;;;;;;;;;;AAae,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,KAAK,OAAO,EAAE;IACpB,MAAM,OAAO,IAAA,wJAAgB;+CAAC,CAAC,QAAU,MAAM,IAAI;;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAA2B;IACjE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAgB,EAAE;IAChE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAgB;IAE9D,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,MAAM;gBACT,sDAAsD;gBACtD,mCAAmC;gBACnC,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM,SAAS,IAAI;YACnB,OAAO,aAAa,CAAC;YACrB,OAAO,MAAM;0CAAG;oBACd,eAAe,OAAO,MAAM;gBAC9B;;YACA,OAAO,OAAO;0CAAG;oBACb,SAAS;gBACb;;QACF;iCAAG;QAAC;QAAM;KAAO;IAEjB,MAAM,iBAAiB;QACrB,IAAI,CAAC,aAAa;YAChB,SAAS;YACT;QACF;QAEA,iBAAiB;QACjB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,SAAS,MAAM,IAAA,iLAAgB,EAAC;gBAAE;gBAAa,UAAU;YAAK;YACpE,WAAW;YACX,eAAe;gBAAC;oBACd,MAAM;oBACN,SAAS;oBACT,MAAM;gBACR;aAAE;QACJ,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;YACd,SAAS;QACX,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,MAAM,eAAe,IAAA,wKAAO;8CAAC,IAAM,OAAO,KAAK,IAAI,GAAG,mBAAmB;6CAAK;QAAC;QAAM;KAAG;IAExF,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,mJAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC,mJAAQ;4BAAC,WAAU;;;;;;;;;;;;8BAExB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,mJAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC,mJAAQ;4BAAC,WAAU;;;;;;;;;;;;;;;;;;IAI9B;IAEA,IAAI,OAAO;QACR,qBACG,6LAAC,6IAAK;YAAC,SAAQ;YAAc,WAAU;;8BACnC,6LAAC,sOAAW;oBAAC,WAAU;;;;;;8BACvB,6LAAC,kJAAU;8BAAC;;;;;;8BACZ,6LAAC,wJAAgB;8BAAE;;;;;;;;;;;;IAG7B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAsD;;;;;;kCACpE,6LAAC,mJAAS;wBAAC,SAAS;;;;;;;;;;;;0BAEtB,6LAAC;gBAAI,WAAU;0BACZ,cAAA,6LAAC,mJAAS;oBACP,YAAY;oBACZ,eAAe;oBACf,SAAS;oBACT,aAAa;oBACb,gBAAgB;oBAChB,aAAa;;;;;;;;;;;;;;;;;AAKzB;GApGwB;;QACP,kJAAS;QACT,kJAAS;QAEX,wJAAgB;;;KAJP","debugId":null}}]
}