{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/store/document-store.ts"],"sourcesContent":["\"use client\";\n\nimport { create } from 'zustand';\n\ntype DocumentState = {\n  file: File | null;\n  setFile: (file: File | null) => void;\n};\n\nexport const useDocumentStore = create<DocumentState>((set) => ({\n  file: null,\n  setFile: (file) => set({ file }),\n}));\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AASO,MAAM,mBAAmB,IAAA,uMAAM,EAAgB,CAAC,MAAQ,CAAC;QAC9D,MAAM;QACN,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;IAChC,CAAC","debugId":null}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,wPAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,wPAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,wPAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,wPAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,wPAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QAAI,KAAK;QAAK,WAAW,IAAA,8JAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,wPAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/pdf/pdf-preview.tsx"],"sourcesContent":["'use client';\n\nimport { FileCheck2, FileX2 } from \"lucide-react\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport function PdfPreview({ fileUrl, isHistoryView }: { fileUrl: string | null; isHistoryView?: boolean; }) {\n\n  if (!fileUrl && !isHistoryView) {\n    return <Skeleton className=\"w-full h-full\" />;\n  }\n  \n  if (isHistoryView) {\n    return (\n        <Card className=\"flex-grow flex items-center justify-center bg-gray-50 dark:bg-gray-900/50 border-dashed\">\n            <CardContent className=\"p-0 flex flex-col items-center justify-center text-center\">\n                <FileX2 className=\"w-24 h-24 text-muted-foreground\" />\n                <p className=\"mt-4 font-semibold text-lg\">PDF Preview Not Available</p>\n                <p className=\"text-muted-foreground\">Original file not available for historical documents.</p>\n            </CardContent>\n        </Card>\n    );\n  }\n\n  return (\n    <Card className=\"flex-grow flex items-center justify-center bg-gray-50 dark:bg-gray-900/50 border-dashed\">\n        <CardContent className=\"p-0 flex flex-col items-center justify-center text-center\">\n            <FileCheck2 className=\"w-24 h-24 text-green-500\" />\n            <p className=\"mt-4 font-semibold text-lg\">Document Loaded</p>\n            <p className=\"text-muted-foreground\">Ready for simplification.</p>\n        </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAMO,SAAS,WAAW,EAAE,OAAO,EAAE,aAAa,EAAwD;IAEzG,IAAI,CAAC,WAAW,CAAC,eAAe;QAC9B,qBAAO,mRAAC,qLAAQ;YAAC,WAAU;;;;;;IAC7B;IAEA,IAAI,eAAe;QACjB,qBACI,mRAAC,6KAAI;YAAC,WAAU;sBACZ,cAAA,mRAAC,oLAAW;gBAAC,WAAU;;kCACnB,mRAAC,6PAAM;wBAAC,WAAU;;;;;;kCAClB,mRAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,mRAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAInD;IAEA,qBACE,mRAAC,6KAAI;QAAC,WAAU;kBACZ,cAAA,mRAAC,oLAAW;YAAC,WAAU;;8BACnB,mRAAC,yQAAU;oBAAC,WAAU;;;;;;8BACtB,mRAAC;oBAAE,WAAU;8BAA6B;;;;;;8BAC1C,mRAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAIjD","debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,YAAY,kNAAuB;AAEzC,MAAM,8BAAgB,wPAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC,kNAAuB;QACtB,KAAK;QACL,WAAW,IAAA,8JAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,wPAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,mRAAC,oNAAyB;QAAC,WAAU;kBACnC,cAAA,mRAAC,qNAA0B;YACzB,KAAK;YACL,WAAW,IAAA,8JAAE,EACX,gIACA;YAED,GAAG,KAAK;;gBAER;8BACD,mRAAC,wQAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,qNAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,wPAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,mRAAC,qNAA0B;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,mRAAC;YAAI,WAAW,IAAA,8JAAE,EAAC,aAAa;sBAAa;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,qNAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/chat/structured-output-cards.tsx"],"sourcesContent":["\"use client\";\n\nimport type { StructuredSummary } from \"@/types\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"@/components/ui/accordion\";\nimport { FileText, Target, ListChecks, AlertTriangle, Phone, CheckCircle } from \"lucide-react\";\n\ntype SummaryCardProps = {\n    icon: React.ReactNode;\n    title: string;\n    children: React.ReactNode;\n};\n\nfunction SummaryCard({ icon, title, children }: SummaryCardProps) {\n    return (\n        <Card>\n            <CardHeader className=\"flex flex-row items-center gap-3 space-y-0 pb-2\">\n                {icon}\n                <CardTitle className=\"font-headline text-lg\">{title}</CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-muted-foreground\">\n                {children}\n            </CardContent>\n        </Card>\n    );\n}\n\nexport function StructuredSummaryDisplay({ summary }: { summary: StructuredSummary }) {\n  return (\n    <div className=\"space-y-4 animate-in fade-in duration-500\">\n        <Accordion type=\"single\" collapsible defaultValue=\"item-1\" className=\"w-full\">\n            <AccordionItem value=\"item-1\">\n                 <AccordionTrigger className=\"text-lg font-headline\">üìú Summary</AccordionTrigger>\n                 <AccordionContent className=\"text-base text-muted-foreground pt-2\">\n                    {summary.summary}\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-2\">\n                 <AccordionTrigger className=\"text-lg font-headline\">üéØ What This Means For You</AccordionTrigger>\n                 <AccordionContent className=\"text-base text-muted-foreground pt-2\">\n                    {summary.whatItMeans}\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-3\">\n                 <AccordionTrigger className=\"text-lg font-headline\">‚úÖ Action Steps</AccordionTrigger>\n                 <AccordionContent className=\"pt-2\">\n                     <ul className=\"space-y-3\">\n                        {summary.actions.map((action, index) => (\n                            <li key={index} className=\"flex items-start gap-3\">\n                                <CheckCircle className=\"w-5 h-5 text-green-500 mt-1 flex-shrink-0\" />\n                                <div>\n                                    <span>{action.step}</span>\n                                    {action.deadline && (\n                                        <p className=\"text-sm text-amber-500 font-medium\">\n                                            Deadline: {action.deadline}\n                                        </p>\n                                    )}\n                                </div>\n                            </li>\n                        ))}\n                    </ul>\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-4\">\n                 <AccordionTrigger className=\"text-lg font-headline\">‚ö†Ô∏è Consequences of Ignoring</AccordionTrigger>\n                 <AccordionContent className=\"text-base text-muted-foreground pt-2\">\n                    {summary.consequences}\n                 </AccordionContent>\n            </AccordionItem>\n            <AccordionItem value=\"item-5\">\n                 <AccordionTrigger className=\"text-lg font-headline\">üìû Helplines & Next Steps</AccordionTrigger>\n                 <AccordionContent className=\"pt-2\">\n                     <ul className=\"space-y-2\">\n                        {summary.helplines.map((helpline, index) => (\n                             <li key={index} className=\"flex items-center gap-3 text-muted-foreground\">\n                                <Phone className=\"w-4 h-4 text-primary flex-shrink-0\"/>\n                                <span>{helpline}</span>\n                            </li>\n                        ))}\n                     </ul>\n                 </AccordionContent>\n            </AccordionItem>\n        </Accordion>\n\n        <div className=\"text-xs text-muted-foreground/80 italic text-center pt-4\">\n            {summary.disclaimer}\n        </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AALA;;;;;AAaA,SAAS,YAAY,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAoB;IAC5D,qBACI,mRAAC,6KAAI;;0BACD,mRAAC,mLAAU;gBAAC,WAAU;;oBACjB;kCACD,mRAAC,kLAAS;wBAAC,WAAU;kCAAyB;;;;;;;;;;;;0BAElD,mRAAC,oLAAW;gBAAC,WAAU;0BAClB;;;;;;;;;;;;AAIjB;AAEO,SAAS,yBAAyB,EAAE,OAAO,EAAkC;IAClF,qBACE,mRAAC;QAAI,WAAU;;0BACX,mRAAC,uLAAS;gBAAC,MAAK;gBAAS,WAAW;gBAAC,cAAa;gBAAS,WAAU;;kCACjE,mRAAC,2LAAa;wBAAC,OAAM;;0CAChB,mRAAC,8LAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,mRAAC,8LAAgB;gCAAC,WAAU;0CACxB,QAAQ,OAAO;;;;;;;;;;;;kCAGxB,mRAAC,2LAAa;wBAAC,OAAM;;0CAChB,mRAAC,8LAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,mRAAC,8LAAgB;gCAAC,WAAU;0CACxB,QAAQ,WAAW;;;;;;;;;;;;kCAG5B,mRAAC,2LAAa;wBAAC,OAAM;;0CAChB,mRAAC,8LAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,mRAAC,8LAAgB;gCAAC,WAAU;0CACxB,cAAA,mRAAC;oCAAG,WAAU;8CACV,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,sBAC1B,mRAAC;4CAAe,WAAU;;8DACtB,mRAAC,+QAAW;oDAAC,WAAU;;;;;;8DACvB,mRAAC;;sEACG,mRAAC;sEAAM,OAAO,IAAI;;;;;;wDACjB,OAAO,QAAQ,kBACZ,mRAAC;4DAAE,WAAU;;gEAAqC;gEACnC,OAAO,QAAQ;;;;;;;;;;;;;;2CANjC;;;;;;;;;;;;;;;;;;;;;kCAezB,mRAAC,2LAAa;wBAAC,OAAM;;0CAChB,mRAAC,8LAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,mRAAC,8LAAgB;gCAAC,WAAU;0CACxB,QAAQ,YAAY;;;;;;;;;;;;kCAG7B,mRAAC,2LAAa;wBAAC,OAAM;;0CAChB,mRAAC,8LAAgB;gCAAC,WAAU;0CAAwB;;;;;;0CACpD,mRAAC,8LAAgB;gCAAC,WAAU;0CACxB,cAAA,mRAAC;oCAAG,WAAU;8CACV,QAAQ,SAAS,CAAC,GAAG,CAAC,CAAC,UAAU,sBAC7B,mRAAC;4CAAe,WAAU;;8DACvB,mRAAC,kPAAK;oDAAC,WAAU;;;;;;8DACjB,mRAAC;8DAAM;;;;;;;2CAFD;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAU9B,mRAAC;gBAAI,WAAU;0BACV,QAAQ,UAAU;;;;;;;;;;;;AAI/B","debugId":null}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/chat/chat-message.tsx"],"sourcesContent":["'use client';\n\nimport { cn } from \"@/lib/utils\";\nimport type { ChatMessage as ChatMessageType } from \"@/types\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { useAuthInfo } from \"@/hooks/use-auth-info\";\n\nexport function ChatMessage({ message }: { message: ChatMessageType }) {\n    if (message.role === 'system') {\n        return null;\n    }\n\n    const { initials } = useAuthInfo();\n\n    return (\n        <div className={cn(\n            \"flex items-start gap-3\",\n            message.role === 'user' ? \"justify-end\" : \"justify-start\"\n        )}>\n            {message.role === 'assistant' && (\n                <Avatar className=\"h-8 w-8\">\n                    <AvatarFallback>AI</AvatarFallback>\n                </Avatar>\n            )}\n            <div className={cn(\n                \"rounded-lg px-4 py-2 max-w-[80%]\",\n                message.role === 'user' \n                    ? \"bg-primary text-primary-foreground\" \n                    : \"bg-secondary text-secondary-foreground\"\n            )}>\n                <p className=\"text-sm\">{message.content}</p>\n            </div>\n            {message.role === 'user' && (\n                 <Avatar className=\"h-8 w-8\">\n                    <AvatarFallback>{initials}</AvatarFallback>\n                </Avatar>\n            )}\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAOO,SAAS,YAAY,EAAE,OAAO,EAAgC;IACjE,IAAI,QAAQ,IAAI,KAAK,UAAU;QAC3B,OAAO;IACX;IAEA,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,uLAAW;IAEhC,qBACI,mRAAC;QAAI,WAAW,IAAA,8JAAE,EACd,0BACA,QAAQ,IAAI,KAAK,SAAS,gBAAgB;;YAEzC,QAAQ,IAAI,KAAK,6BACd,mRAAC,iLAAM;gBAAC,WAAU;0BACd,cAAA,mRAAC,yLAAc;8BAAC;;;;;;;;;;;0BAGxB,mRAAC;gBAAI,WAAW,IAAA,8JAAE,EACd,oCACA,QAAQ,IAAI,KAAK,SACX,uCACA;0BAEN,cAAA,mRAAC;oBAAE,WAAU;8BAAW,QAAQ,OAAO;;;;;;;;;;;YAE1C,QAAQ,IAAI,KAAK,wBACb,mRAAC,iLAAM;gBAAC,WAAU;0BACf,cAAA,mRAAC,yLAAc;8BAAE;;;;;;;;;;;;;;;;;AAKrC","debugId":null}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,wPAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,mRAAC;QACC,MAAM;QACN,WAAW,IAAA,8JAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/ai/flows/conversational-chat.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Implements the conversational chat flow for the application.\n *\n * - chatWithDocument -  Handles the conversation with the AI, processing user messages and generating responses based on the document context.\n * - ChatInputType - The input type for the chatWithDocument function, including the message and document ID.\n * - ChatOutputType - The return type for the chatWithDocument function, providing the AI's response.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst ChatInputSchema = z.object({\n  fileDataUri: z\n    .string()\n    .describe(\n      \"The content of the PDF document, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'\"\n    ),\n  message: z.string().describe('The user message.'),\n  history: z.array(z.object({\n    role: z.enum(['user', 'assistant', 'system']),\n    content: z.string(),\n    data: z.any().optional(),\n  })).describe('The conversation history.'),\n});\n\nexport type ChatInputType = z.infer<typeof ChatInputSchema>;\n\nconst ChatOutputSchema = z.object({\n  response: z.string().describe('The AI response to the user message.'),\n});\n\nexport type ChatOutputType = z.infer<typeof ChatOutputSchema>;\n\nexport async function chatWithDocument(input: ChatInputType): Promise<ChatOutputType> {\n  return chatFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'chatPrompt',\n  input: {\n    schema: ChatInputSchema,\n  },\n  output: {schema: ChatOutputSchema},\n  prompt: `You are \"Bureaucracy Buster\" ‚Äì a friendly, empathetic and extremely advanced AI assistant for Indian citizens. Your role is to answer questions about the provided government document. Use the document as the primary source of truth.\n\n    Document:\n    {{media url=fileDataUri}}\n\n    Conversation History:\n    {{#each history}}\n    {{this.role}}: {{{this.content}}}\n    {{/each}}\n\n    User's current message: {{{message}}}\n\n    Based on the document and the conversation history, provide a clear and simple answer.\n    Respond in the same language as the user's previous messages. Always add disclaimer: \\\"This is not official legal advice.\\\"`,\n});\n\nconst chatFlow = ai.defineFlow(\n  {\n    name: 'chatFlow',\n    inputSchema: ChatInputSchema,\n    outputSchema: ChatOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;;IAmCsB,mBAAA,WAAA,GAAA,IAAA,oRAAA,EAAA,8CAAA,yQAAA,EAAA,KAAA,GAAA,+QAAA,EAAA","debugId":null}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/chat/chat-input.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Send, CornerDownLeft } from \"lucide-react\";\nimport { chatWithDocument } from \"@/ai/flows/conversational-chat\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { ChatMessage } from \"@/types\";\n\nexport function ChatInput({\n  chatHistory,\n  setChatHistory,\n  fileDataUri,\n}: {\n  chatHistory: ChatMessage[];\n  setChatHistory: React.Dispatch<React.SetStateAction<ChatMessage[]>>;\n  fileDataUri: string | null;\n}) {\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n\n    const newUserMessage: ChatMessage = { role: \"user\", content: input };\n    setChatHistory((prev) => [...prev, newUserMessage]);\n    setInput(\"\");\n    setIsLoading(true);\n\n    if (!fileDataUri) {\n      toast({\n        title: \"Error\",\n        description: \"Document context is missing. Please try reloading.\",\n        variant: \"destructive\",\n      });\n      setChatHistory((prev) => prev.slice(0, -1)); // Remove the user message on error\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const response = await chatWithDocument({\n        message: input,\n        history: chatHistory,\n        fileDataUri,\n      });\n      const aiResponse: ChatMessage = {\n        role: \"assistant\",\n        content: response.response,\n      };\n      setChatHistory((prev) => [...prev, aiResponse]);\n    } catch (error) {\n      console.error(\"Chat error:\", error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to get a response from the AI. Please try again.\",\n        variant: \"destructive\",\n      });\n      setChatHistory((prev) => prev.slice(0, -1)); // Remove the user message on error\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"relative\">\n      <Input\n        value={input}\n        onChange={(e) => setInput(e.target.value)}\n        placeholder=\"Ask a follow-up question...\"\n        className=\"pr-12\"\n        disabled={isLoading}\n      />\n      <Button\n        type=\"submit\"\n        size=\"icon\"\n        className=\"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-10\"\n        disabled={isLoading || !input.trim()}\n      >\n        {isLoading ? (\n          <CornerDownLeft className=\"h-4 w-4 animate-pulse\" />\n        ) : (\n          <Send className=\"h-4 w-4\" />\n        )}\n        <span className=\"sr-only\">Send</span>\n      </Button>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAPA;;;;;;;;AAUO,SAAS,UAAU,EACxB,WAAW,EACX,cAAc,EACd,WAAW,EAKZ;IACC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sPAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,sPAAQ,EAAC;IAC3C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,6KAAQ;IAE1B,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,MAAM,WAAW;QAEhC,MAAM,iBAA8B;YAAE,MAAM;YAAQ,SAAS;QAAM;QACnE,eAAe,CAAC,OAAS;mBAAI;gBAAM;aAAe;QAClD,SAAS;QACT,aAAa;QAEb,IAAI,CAAC,aAAa;YAChB,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;YACA,eAAe,CAAC,OAAS,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK,mCAAmC;YAChF,aAAa;YACb;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,mNAAgB,EAAC;gBACtC,SAAS;gBACT,SAAS;gBACT;YACF;YACA,MAAM,aAA0B;gBAC9B,MAAM;gBACN,SAAS,SAAS,QAAQ;YAC5B;YACA,eAAe,CAAC,OAAS;uBAAI;oBAAM;iBAAW;QAChD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;YAC7B,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;YACA,eAAe,CAAC,OAAS,KAAK,KAAK,CAAC,GAAG,CAAC,KAAK,mCAAmC;QAClF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,mRAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,mRAAC,+KAAK;gBACJ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAY;gBACZ,WAAU;gBACV,UAAU;;;;;;0BAEZ,mRAAC,iLAAM;gBACL,MAAK;gBACL,MAAK;gBACL,WAAU;gBACV,UAAU,aAAa,CAAC,MAAM,IAAI;;oBAEjC,0BACC,mRAAC,qRAAc;wBAAC,WAAU;;;;;6CAE1B,mRAAC,+OAAI;wBAAC,WAAU;;;;;;kCAElB,mRAAC;wBAAK,WAAU;kCAAU;;;;;;;;;;;;;;;;;;AAIlC","debugId":null}},
    {"offset": {"line": 831, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,wPAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,mRAAC,uNAAwB;QACvB,KAAK;QACL,WAAW,IAAA,8JAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,mRAAC,2NAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,mRAAC;;;;;0BACD,mRAAC,yNAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,uNAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,wPAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,mRAAC,sOAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,8JAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,mRAAC,kOAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,sOAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 899, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/chat/chat-panel.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Sparkles, Loader2, MessageSquareWarning } from \"lucide-react\";\nimport { StructuredSummaryDisplay } from \"./structured-output-cards\";\nimport type { StructuredSummary, ChatMessage as ChatMessageType } from \"@/types\";\nimport { ChatMessage } from \"./chat-message\";\nimport { ChatInput } from \"./chat-input\";\nimport { Card } from \"@/components/ui/card\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport React from \"react\";\n\ninterface ChatPanelProps {\n  onSimplify: () => void;\n  isSimplifying: boolean;\n  summary: StructuredSummary | null;\n  chatHistory: ChatMessageType[];\n  setChatHistory: React.Dispatch<React.SetStateAction<ChatMessageType[]>>;\n  fileDataUri: string | null;\n  isHistoryView?: boolean;\n}\n\nexport function ChatPanel({\n  onSimplify,\n  isSimplifying,\n  summary,\n  chatHistory,\n  setChatHistory,\n  fileDataUri,\n  isHistoryView,\n}: ChatPanelProps) {\n\n  const messagesEndRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [chatHistory]);\n\n  return (\n    <div className=\"flex flex-col h-full bg-card rounded-lg border\">\n      <div className=\"p-4 border-b\">\n        <h2 className=\"font-headline text-2xl font-semibold\">AI Assistant</h2>\n        <p className=\"text-sm text-muted-foreground\">Your guide to understanding this document.</p>\n      </div>\n      \n      <ScrollArea className=\"flex-grow h-0\">\n        <div className=\"p-4 space-y-4\">\n            {!summary && !isSimplifying && !isHistoryView && (\n                <div className=\"flex flex-col items-center justify-center text-center p-8 h-full\">\n                    <div className=\"p-4 bg-accent/10 rounded-full mb-4\">\n                        <Sparkles className=\"w-10 h-10 text-accent\" />\n                    </div>\n                    <h3 className=\"font-semibold text-lg\">Ready to simplify?</h3>\n                    <p className=\"text-muted-foreground mb-4\">Click the button to get a plain-language summary.</p>\n                    <Button onClick={onSimplify} disabled={isSimplifying} className=\"bg-accent hover:bg-accent/90 text-accent-foreground\">\n                        <Sparkles className=\"mr-2 h-4 w-4\" />\n                        Simplify for a Citizen\n                    </Button>\n                </div>\n            )}\n\n            {isSimplifying && (\n                 <div className=\"flex items-center justify-center p-8\">\n                    <Loader2 className=\"mr-2 h-8 w-8 animate-spin text-primary\" />\n                    <span className=\"text-lg\">Analyzing document...</span>\n                 </div>\n            )}\n\n            {summary && <StructuredSummaryDisplay summary={summary} />}\n            \n            {isHistoryView && summary && (\n                <div className=\"flex flex-col items-center justify-center text-center p-8 mt-4 rounded-lg bg-muted/50\">\n                    <MessageSquareWarning className=\"w-10 h-10 text-muted-foreground mb-4\" />\n                    <h3 className=\"font-semibold text-lg\">Chat Not Available</h3>\n                    <p className=\"text-muted-foreground text-sm max-w-xs\">Follow-up questions are disabled for documents viewed from your history.</p>\n                </div>\n            )}\n            \n            <div className=\"space-y-4\">\n              {chatHistory.map((message, index) => (\n                <ChatMessage key={index} message={message} />\n              ))}\n            </div>\n            <div ref={messagesEndRef} />\n        </div>\n      </ScrollArea>\n      \n      {summary && !isHistoryView && (\n        <div className=\"border-t p-4 bg-background/50 rounded-b-lg\">\n            <ChatInput chatHistory={chatHistory} setChatHistory={setChatHistory} fileDataUri={fileDataUri} />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAVA;;;;;;;;;AAsBO,SAAS,UAAU,EACxB,UAAU,EACV,aAAa,EACb,OAAO,EACP,WAAW,EACX,cAAc,EACd,WAAW,EACX,aAAa,EACE;IAEf,MAAM,iBAAiB,qPAAK,CAAC,MAAM,CAAiB;IAEpD,qPAAK,CAAC,SAAS,CAAC;QACd,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D,GAAG;QAAC;KAAY;IAEhB,qBACE,mRAAC;QAAI,WAAU;;0BACb,mRAAC;gBAAI,WAAU;;kCACb,mRAAC;wBAAG,WAAU;kCAAuC;;;;;;kCACrD,mRAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;0BAG/C,mRAAC,6LAAU;gBAAC,WAAU;0BACpB,cAAA,mRAAC;oBAAI,WAAU;;wBACV,CAAC,WAAW,CAAC,iBAAiB,CAAC,+BAC5B,mRAAC;4BAAI,WAAU;;8CACX,mRAAC;oCAAI,WAAU;8CACX,cAAA,mRAAC,2PAAQ;wCAAC,WAAU;;;;;;;;;;;8CAExB,mRAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,mRAAC;oCAAE,WAAU;8CAA6B;;;;;;8CAC1C,mRAAC,iLAAM;oCAAC,SAAS;oCAAY,UAAU;oCAAe,WAAU;;sDAC5D,mRAAC,2PAAQ;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;wBAMhD,+BACI,mRAAC;4BAAI,WAAU;;8CACZ,mRAAC,iQAAO;oCAAC,WAAU;;;;;;8CACnB,mRAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;wBAIjC,yBAAW,mRAAC,4NAAwB;4BAAC,SAAS;;;;;;wBAE9C,iBAAiB,yBACd,mRAAC;4BAAI,WAAU;;8CACX,mRAAC,uSAAoB;oCAAC,WAAU;;;;;;8CAChC,mRAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,mRAAC;oCAAE,WAAU;8CAAyC;;;;;;;;;;;;sCAI9D,mRAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAC,SAAS,sBACzB,mRAAC,iMAAW;oCAAa,SAAS;mCAAhB;;;;;;;;;;sCAGtB,mRAAC;4BAAI,KAAK;;;;;;;;;;;;;;;;;YAIf,WAAW,CAAC,+BACX,mRAAC;gBAAI,WAAU;0BACX,cAAA,mRAAC,6LAAS;oBAAC,aAAa;oBAAa,gBAAgB;oBAAgB,aAAa;;;;;;;;;;;;;;;;;AAK9F","debugId":null}},
    {"offset": {"line": 1144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/ai/flows/simplify-document.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview An AI agent for simplifying complex government documents into plain language.\n *\n * - simplifyDocument - A function that handles the document simplification process.\n * - SimplifyDocumentInput - The input type for the simplifyDocument function.\n * - SimplifyDocumentOutput - The return type for the simplifyDocument function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst SimplifyDocumentInputSchema = z.object({\n  fileDataUri: z\n    .string()\n    .describe(\n      'The content of the PDF document, as a data URI that must include a MIME type and use Base64 encoding. Expected format: \\'data:<mimetype>;base64,<encoded_data>\\'.' // Corrected description\n    ),\n  language: z.enum(['en', 'hi']).default('en').describe('The language to use for the simplification.'),\n});\nexport type SimplifyDocumentInput = z.infer<typeof SimplifyDocumentInputSchema>;\n\nconst SimplifyDocumentOutputSchema = z.object({\n  summary: z.string().describe('A concise summary of the document.'),\n  whatItMeans: z.string().describe('An explanation of what the document means for the user.'),\n  actions: z\n    .array(\n      z.object({\n        step: z.string().describe('A specific action the user needs to take.'),\n        deadline: z.string().optional().describe('The deadline for the action, if applicable.'),\n      })\n    )\n    .describe('A list of actions the user needs to take.'),\n  consequences: z.string().describe('The consequences of not taking the required actions.'),\n  helplines: z.array(z.string()).describe('A list of relevant helpline numbers or contact information.'),\n  disclaimer: z.string().describe('A disclaimer that this is not official legal advice.'),\n});\nexport type SimplifyDocumentOutput = z.infer<typeof SimplifyDocumentOutputSchema>;\n\nexport async function simplifyDocument(input: SimplifyDocumentInput): Promise<SimplifyDocumentOutput> {\n  return simplifyDocumentFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'simplifyDocumentPrompt',\n  input: {schema: SimplifyDocumentInputSchema},\n  output: {schema: SimplifyDocumentOutputSchema},\n  prompt: `You are \\\"Bureaucracy Buster\\\" ‚Äì a friendly, empathetic AI assistant for Indian citizens. Convert complex government documents into simple Hindi/English guidance. Use plain language, short sentences, emojis, bullet points. Structure first response as:\n- Summary\n- What this means for you\n- Action steps (with deadlines)\n- Consequences if you ignore\n- Helplines / next steps\nAlways add disclaimer: \\\"This is not official legal advice.\\\"\nIf user asks for Hindi, respond entirely in natural Hindi.\n\nSimplify the following document:\n\n{{media url=fileDataUri}}`,\n});\n\nconst simplifyDocumentFlow = ai.defineFlow(\n  {\n    name: 'simplifyDocumentFlow',\n    inputSchema: SimplifyDocumentInputSchema,\n    outputSchema: SimplifyDocumentOutputSchema,\n  },\n  async input => {\n    const {output} = await prompt(input);\n    return {\n      ...output!,\n      disclaimer: 'This is not official legal advice.',\n    };\n  }\n);\n"],"names":[],"mappings":";;;;;;;IAuCsB,mBAAA,WAAA,GAAA,IAAA,oRAAA,EAAA,8CAAA,yQAAA,EAAA,KAAA,GAAA,+QAAA,EAAA","debugId":null}},
    {"offset": {"line": 1156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,4MAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,wPAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,mRAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,8JAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,wPAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,wPAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,mRAAC;QACC,KAAK;QACL,WAAW,IAAA,8JAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1221, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/debad/Desktop/Bureaucracy_Simplifier/src/app/%28auth%29/dashboard/document/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { useParams } from 'next/navigation';\nimport { useDocumentStore } from '@/store/document-store';\nimport { PdfPreview } from '@/components/pdf/pdf-preview';\nimport { ChatPanel } from '@/components/chat/chat-panel';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { simplifyDocument } from '@/ai/flows/simplify-document';\nimport type { StructuredSummary, ChatMessage } from '@/types';\nimport { AlertCircle } from 'lucide-react';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport { useUser, useFirestore, useDoc, useMemoFirebase, setDocumentNonBlocking } from '@/firebase';\nimport { doc, serverTimestamp } from 'firebase/firestore';\n\nexport default function DocumentPage() {\n  const params = useParams();\n  const id = params.id as string;\n  const { file } = useDocumentStore();\n  const { user } = useUser();\n  const firestore = useFirestore();\n\n  const [isSimplifying, setIsSimplifying] = useState(false);\n  const [summary, setSummary] = useState<StructuredSummary | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [chatHistory, setChatHistory] = useState<ChatMessage[]>([]);\n  const [fileDataUri, setFileDataUri] = useState<string | null>(null);\n  \n  // Determine view mode based on file in store matching the URL ID\n  const isNewUploadFlow = useMemo(() => file && encodeURIComponent(file.name) === id, [file, id]);\n  const isHistoryView = !isNewUploadFlow;\n\n  const docRef = useMemoFirebase(() => {\n    // We only fetch from firestore in history view\n    if (!user || !firestore || !isHistoryView) return null;\n    return doc(firestore, 'users', user.uid, 'documents', id);\n  }, [user, firestore, id, isHistoryView]);\n\n  const { data: historyDoc, isLoading: isHistoryLoading } = useDoc<any>(docRef);\n\n  useEffect(() => {\n    if (isNewUploadFlow && file) {\n      // New upload flow: read the file from the store\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        setFileDataUri(reader.result as string);\n      };\n      reader.onerror = () => {\n          setError(\"Failed to read the document file.\");\n      };\n      // Reset summary when a new file is processed\n      setSummary(null);\n      setChatHistory([]);\n    } else if (isHistoryView && historyDoc) {\n      // History view flow: use the loaded document from Firestore\n      setSummary(historyDoc.summary);\n      setChatHistory([]); // Reset chat history for history view\n      setFileDataUri(null); // No file preview for history view\n    }\n  }, [isNewUploadFlow, isHistoryView, file, historyDoc]);\n  \n  const handleSimplify = async () => {\n    if (!fileDataUri || !file) {\n      setError(\"Document is not ready for simplification.\");\n      return;\n    }\n\n    setIsSimplifying(true);\n    setError(null);\n    setSummary(null);\n    \n    try {\n      const result = await simplifyDocument({ fileDataUri, language: 'en' });\n      setSummary(result);\n      setChatHistory([{\n        role: 'system',\n        content: 'The initial document summary has been provided. The user can now ask follow-up questions.',\n        data: result,\n      }]);\n\n      if (user && firestore) {\n        const saveDocRef = doc(firestore, 'users', user.uid, 'documents', id);\n        const docData = {\n          id: id,\n          userId: user.uid,\n          filename: file.name,\n          createdAt: serverTimestamp(),\n          summary: result,\n          storagePath: `users/${user.uid}/documents/${id}` // Placeholder path\n        };\n        setDocumentNonBlocking(saveDocRef, docData, { merge: true });\n      }\n\n    } catch (e) {\n      console.error(e);\n      setError('An error occurred while simplifying the document. Please try again.');\n    } finally {\n      setIsSimplifying(false);\n    }\n  };\n\n  const documentName = useMemo(() => {\n      if (isNewUploadFlow && file) return file.name;\n      if (isHistoryView && historyDoc) return historyDoc.filename;\n      return decodeURIComponent(id);\n  }, [isNewUploadFlow, file, isHistoryView, historyDoc, id]);\n\n  const isLoading = isHistoryView && isHistoryLoading;\n\n  if (isLoading) {\n    return (\n      <div className=\"flex flex-col md:flex-row gap-8 h-[calc(100vh-10rem)]\">\n        <div className=\"md:w-1/2 h-full flex flex-col gap-4\">\n            <Skeleton className=\"w-1/2 h-8\" />\n            <Skeleton className=\"flex-grow w-full\" />\n        </div>\n        <div className=\"md:w-1/2 h-full flex flex-col gap-4\">\n            <Skeleton className=\"w-1/3 h-8\" />\n            <Skeleton className=\"flex-grow w-full\" />\n        </div>\n      </div>\n    );\n  }\n  \n  if (error) {\n     return (\n        <Alert variant=\"destructive\" className=\"max-w-2xl mx-auto\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertTitle>Error</AlertTitle>\n            <AlertDescription>{error}</AlertDescription>\n        </Alert>\n     )\n  }\n\n  if (isHistoryView && !isHistoryLoading && !historyDoc) {\n      return (\n        <Alert variant=\"destructive\" className=\"max-w-2xl mx-auto\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertTitle>Document Not Found</AlertTitle>\n            <AlertDescription>Could not find the document details in your history.</AlertDescription>\n        </Alert>\n      )\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start h-[calc(100vh-10rem)]\">\n      <div className=\"h-full flex flex-col\">\n        <h1 className=\"font-headline text-2xl font-semibold mb-4 truncate\">{documentName}</h1>\n        <PdfPreview fileUrl={fileDataUri} isHistoryView={isHistoryView} />\n      </div>\n      <div className=\"h-full flex flex-col\">\n         <ChatPanel\n            onSimplify={handleSimplify}\n            isSimplifying={isSimplifying}\n            summary={summary}\n            chatHistory={chatHistory}\n            setChatHistory={setChatHistory}\n            fileDataUri={fileDataUri}\n            isHistoryView={isHistoryView}\n          />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}